set(target_name SDL2_image)

add_library(${target_name} STATIC
    IMG.c
    IMG_bmp.c
    IMG_gif.c
    IMG_jpg.c
    IMG_lbm.c
    IMG_pcx.c
    IMG_png.c
    IMG_pnm.c
    IMG_svg.c
    IMG_tga.c
    IMG_tif.c
    IMG_webp.c
    IMG_xcf.c
    IMG_xpm.c
    IMG_xv.c
    IMG_xxx.c
)

set_target_properties(${target_name} PROPERTIES DEBUG_POSTFIX d)

target_compile_options(${target_name} PRIVATE
    -DLOAD_BMP
    -DLOAD_PNG
    -DSDL_IMAGE_USE_COMMON_BACKEND
)

if(IOS)
    if(${ENABLE_BITCODE})
        set(xcode_bitcode YES)
    else()
        set(xcode_bitcode NO)
    endif()

    set_target_properties(${target_name}
        PROPERTIES
        XCODE_ATTRIBUTE_ENABLE_BITCODE "${xcode_bitcode}"
    )
endif()

target_include_directories(${target_name} PUBLIC
    .
)

